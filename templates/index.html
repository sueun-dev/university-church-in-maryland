{% extends 'base.html' %}
{% set active_page = 'home' %}
{% block title %}University Church{% endblock %}
{% block meta_keywords %}
  메릴랜드 교회, 유니버시티 교회, University Church, 메릴랜드, 교회, Church, College Park, 한인 교회, 한국어 예배, 메릴랜드 한인 교회, 한인
{% endblock %}
{% block meta_description %}
  유니버시티 교회는 50여년간 메릴랜드 대학 가족과 지역 이민사회가 함께 세워 온 신앙 공동체입니다.
{% endblock %}
{% block css %}
  {{ super() }}
  <link href="/static/css/custom_styles.css" rel="stylesheet" />
  <style>
    /* 추가 스타일이 필요한 경우 여기에 정의 */
  </style>
{% endblock %}
{% block content %}
  <!-- Header Section -->
  <div class="container-fluid header bg-white p-0">
    <div class="row g-0 align-items-center flex-column-reverse flex-md-row">
      <div class="col-md-6 p-5 mt-lg-5">
        <h1 class="display-5 animated fadeIn mb-4">
          <span class="text-primary">University Church</span> in College Park
        </h1>
        <div class="animated fadeIn mb-4 pb-2">
          {{ get_content('main_top_welcome')|markdown }}
        </div>
        <div class="animated fadeIn mb-4 pb-2">
          {{ get_content('main_church_intro')|markdown }}
        </div>
      </div>
      <div class="col-md-6 fadeIn d-flex justify-content-center">
        <div class="owl-carousel header-carousel">
          <div class="owl-carousel-item">
            <div class="d-flex justify-content-center">
              <img class="img-fluid mx-auto" src="/static/img/school_main_02.png" oncontextmenu="return false;" style="max-width: 70%;" alt="Church Main 02" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Vision Section -->
<!-- Vision Section -->
<div class="container py-5">
  <div class="bg-light rounded p-4">
    <div class="bg-white rounded p-4 border border-primary border-opacity-25">
      <div class="row justify-content-center">
        <div class="col-lg-10 text-center wow fadeIn" data-wow-delay="0.1s">
          <h1 class="mb-4">예배 및 모임 시간</h1>
          <div class="row justify-content-center g-4">
            <div class="col-md-4 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
              <div class="bg-light rounded p-4 h-100">
                <h6>주일 예배</h6>
                <p>매주 주일 오전 11시</p>
              </div>
            </div>
            <div class="col-md-4 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
              <div class="bg-light rounded p-4 h-100">
                <h6>성경 공부</h6>
                <p>매주 주일 오후 1시</p>
              </div>
            </div>
            <div class="col-md-4 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
              <div class="bg-light rounded p-4 h-100">
                <h6>새벽 기도회</h6>
                <p>화-토 오전 6시 Zoom</p>
              </div>
            </div>
          </div>
          <a class="btn btn-primary py-3 px-5 mt-4" href="{{ zoom_url }}" target="_blank">
            새벽 기도회 Zoom {% if zoom_password %}(passwd: {{ zoom_password }}){% endif %}
          </a>
          
          {% if is_pastor %}
          <!-- Pastor-only Zoom Link Update Form -->
          <div class="mt-4">
            <form action="{{ url_for('main.update_zoom_link') }}" method="POST" class="d-flex flex-column justify-content-center gap-2">
              <div class="d-flex gap-2">
                <input type="url" name="zoom_url" class="form-control" style="max-width: 400px;" placeholder="새 Zoom URL 입력" required>
                <input type="text" name="zoom_password" class="form-control" style="max-width: 200px;" placeholder="비밀번호 (선택사항)" value="{{ zoom_password }}">
              </div>
              <div class="d-flex justify-content-center mt-2">
                <button type="submit" class="btn btn-danger">Zoom 링크 변경</button>
              </div>
            </form>
          </div>
          {% endif %}
          
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Google Map (Outside Vision Box, Center-Aligned) -->
<div class="container py-5">
  <h3 class="text-center mb-4">찾아오는 길</h3>
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="ratio ratio-16x9 border rounded overflow-hidden">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3095.8017767397194!2d-76.92484532460897!3d38.99069407166233!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89b7c69af59c969b%3A0xe69b939ee8b3c4cc!2s8108%2054th%20Ave%2C%20College%20Park%2C%20MD%2020740!5e0!3m2!1sen!2sus!4v1711279783476!5m2!1sen!2sus"
          width="600" height="450"
          style="border:0;"
          allowfullscreen loading="lazy">
        </iframe>
      </div>
    </div>
  </div>
</div>

  <!-- Contact Section -->
  <div class="container-xxl py-5">
    <div class="container">
      <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
        <h1 class="mb-3">Contact Us</h1>
        <p>{{ get_content("main_contact_address", "8108 54th Ave. College Park, MD 20740") }}</p>
      </div>
      <div class="row g-4 justify-content-center">
        <div class="col-lg-6 text-center wow fadeIn" data-wow-delay="0.5s">
          <div class="d-flex flex-wrap justify-content-center gap-3">
            <a href="#" class="btn btn-secondary py-3 px-4" onclick="copyEmailToClipboard(); return false;">
              <i class="fa fa-envelope me-2"></i>이메일
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 메시지 남기기 링크 추가 -->
  <div class="container text-center mt-4">
    <a href="{{ url_for('main.send_message') }}" class="btn btn-primary">목사님께 메시지 남기기</a>
  </div>
{% endblock %}
